# Юзербот для архивирования телеграм канала (Только одного, поэтому solo в названии)

**Сохраняет все посты из канала-источника в канал-архив и репостит (логирует) удалённые посты в канал-удалёнки.**

Демонстрация работы: https://youtu.be/wvJdxFsJUmY

### Подготовка:
- Создайте два **канала**: канал-архив и канал-удалёнки. В один будут сохраняться все посты, во второй только удалённые.
- Скачайте и распакуйте в любую папку файлы бота https://github.com/lynrayy/channel-archiver-solo/releases/tag/Release
_________________________

 
### Инструкция по использованию бота:
1. Откройте как текст и введите настройки в файл **config.py**:

   Укажите ID всех каналов и выберите, сохранять посты как репост или от лица канала-архива.

2. Откройте как текст и введите данные в файл **auth.py**:

   Укажите ID приложения и хэш, полученные на https://my.telegram.org/apps

   Введите номер телефона аккаунта, на котором будет работать бот

3. Запустите start.bat. Вам придёт сообщение от бота с кодом авторизации, введите этот код в консоль.

   Если у вас стоит облачный пароль, введите его в консоль после кода авторизации.

Готово, бот будет сохранять посты из канала источника в архив и удалёнки!

Дополнительные инструкции есть в файлах настроек.
_________________________
### Как узнать ID канала?
**Способ 1 (Универсальный):**
1. Перешлите пост из канала боту https://t.me/MissRose_bot
2. В ответ на пересланный пост напишите команду `/id`

**Способ 2 (Для ПК, Telegram Desktop):**
1. Зайдите в продвинутые настройки
2. Перейдите в экспериментальные настройки
3. Включите [Show Peer IDs in Profile]
4. Откройте описание канала, там будет его ID

ID канала ВСЕГДА начинается с -100. Способ 1 даст вам именно такой ID.
В способе 2 надо вручную дописать -100 в начале

**Способ 3 (Для андроедов):**
Скачайте AyuGram

Откройте профиль канала и скопируйте ID
_________________________
### Где взять api ID и api HASH?
1. Логинимся на https://my.telegram.org/auth
2. Переходим на API development tools (https://my.telegram.org/apps)
3. Заполняем данные как вам будет удобнее
4. После чего вам станут доступны app api ID и app api HASH

_________________________
### О боте
Бот написан на `Python 3.11` в `PyCharm` и использует следующие библиотеки:
- Pyrogram (Взаимодействие с телегой) [`pip install pyrogram`]
- TgCrypto (Опционален для Pyrogram) [`pip install tgcrypto`]
- Peewee (ORM Модель для работы с SQLite) [`pip install peewee`]

Релизы делаются под Windows

Всё включено в архив с релизом, так что устанавливать питон и модули - не обязательно.
